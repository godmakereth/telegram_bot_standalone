# 🎮 RG Telegram 廣播系統 - 指令完整參考

## 📋 指令總覽

本系統支援兩種操作方式：
- 🖥️ **GUI 界面操作** - 圖形化點選操作
- 🤖 **Telegram 指令** - 文字指令控制

---

## 🖥️ GUI 界面按鍵說明

### 🔗 連接設定頁面

#### 連接控制區域
| 按鍵 | 快捷鍵 | 功能 | 詳細說明 |
|------|--------|------|----------|
| 🔗 連接Telegram | `Ctrl+C` | 建立連接 | 使用配置的 API 資訊連接到 Telegram 服務器 |
| 🔌 斷開連接 | `Ctrl+D` | 斷開連接 | 安全地斷開與 Telegram 的連接 |
| 🔄 重新載入配置 | `Ctrl+R` | 重載配置 | 重新讀取所有配置文件，更新系統設定 |

#### 狀態指示器
| 狀態 | 顏色 | 說明 |
|------|------|------|
| ✅ 已連接 | 綠色 | Telegram 連接正常，可以進行操作 |
| ❌ 未連接 | 紅色 | 未連接到 Telegram，需要建立連接 |
| ⚠️ 連接中 | 黃色 | 正在嘗試連接，請等待 |
| 🔄 重連中 | 藍色 | 連接中斷，正在自動重連 |

### 📡 廣播控制頁面

#### 手動廣播區域
| 按鍵 | 快捷鍵 | 功能 | 詳細說明 |
|------|--------|------|----------|
| 🚀 立即廣播 | `Ctrl+B` | 執行廣播 | 立即向所有目標群組廣播選定的活動內容 |
| 👁️ 預覽內容 | `Ctrl+P` | 內容預覽 | 查看活動的文字、圖片、影片等內容詳情 |
| 🧪 測試廣播 | `Ctrl+T` | 測試功能 | 模擬廣播流程，檢查系統功能但不實際發送 |
| 🔄 刷新活動 | `F5` | 重載活動 | 重新掃描活動資料夾，更新活動列表 |

#### 活動選擇器
```
下拉選單選項：
├── A - 活動 A (顯示內容摘要)
├── B - 活動 B (顯示內容摘要)  
├── C - 活動 C (顯示內容摘要)
├── D - 活動 D (顯示內容摘要)
└── E - 活動 E (顯示內容摘要)
```

#### 排程控制區域
| 按鍵 | 快捷鍵 | 功能 | 詳細說明 |
|------|--------|------|----------|
| ☑️ 啟用自動排程 | `Ctrl+E` | 開關排程 | 啟用或停用自動排程功能 |
| 📅 查看排程 | `Ctrl+L` | 排程列表 | 顯示所有已設定的排程及其狀態 |
| ➕ 新增排程 | `Ctrl+N` | 添加排程 | 打開對話框設定新的定時廣播排程 |
| ➖ 移除排程 | `Ctrl+Delete` | 刪除排程 | 選擇並移除現有的排程項目 |
| 🔄 重新載入 | `Ctrl+Shift+R` | 刷新狀態 | 重新載入排程配置和執行狀態 |

#### 排程狀態指示
```
狀態顯示：
├── 📊 排程狀態: [啟用/停用]
├── ⏰ 下次執行: [時間] - [活動]
├── 📈 今日執行: [數量] 次
└── 🎯 總排程數: [數量] 個
```

### ⚙️ 系統管理頁面

#### 群組管理區域
| 按鍵 | 快捷鍵 | 功能 | 詳細說明 |
|------|--------|------|----------|
| ➕ 添加群組 | `Ctrl+G` | 新增群組 | 將群組添加為廣播目標或設為控制群組 |
| ➖ 移除群組 | `Ctrl+Shift+G` | 刪除群組 | 從廣播目標列表中移除選定的群組 |
| 📋 管理群組 | `Ctrl+M` | 批量管理 | 打開群組管理對話框，批量設定目標群組 |
| 🔄 重新載入 | `F5` | 刷新列表 | 重新載入群組配置，更新顯示列表 |
| 🌐 掃描群組 | `Ctrl+S` | 群組掃描 | 掃描機器人已加入的所有群組和頻道 |
| 📊 群組詳情 | `Ctrl+I` | 詳細資訊 | 顯示每個群組的詳細資訊和狀態 |

#### 群組類型標識
```
群組狀態：
├── 🎯 [設定廣播] - 已設為廣播目標群組
├── 🎮 [控制群組] - 設為控制群組（接收指令）
├── ❌ [未設定廣播] - 機器人已加入但未設為目標
└── ⚠️ [無權限] - 機器人權限不足
```

#### 內容管理區域
| 按鍵 | 快捷鍵 | 功能 | 詳細說明 |
|------|--------|------|----------|
| 🔄 重新載入內容 | `Ctrl+Shift+F5` | 刷新內容 | 重新掃描所有活動資料夾，更新內容摘要 |

#### 內容狀態指示
```
活動內容狀態：
├── ✅ 活動 A: 文字(120字), 圖片2個, 影片1個
├── ✅ 活動 B: 文字(85字), GIF1個  
├── ⚠️ 活動 C: 僅文字(45字)
├── ❌ 活動 D: 內容為空
└── ❓ 活動 E: 資料夾不存在
```

### 📋 系統狀態頁面

#### 日誌管理區域
| 按鍵 | 快捷鍵 | 功能 | 詳細說明 |
|------|--------|------|----------|
| 🗑️ 清空日誌 | `Ctrl+Delete` | 清空顯示 | 清空當前日誌顯示區域的內容 |
| 💾 保存日誌 | `Ctrl+S` | 導出日誌 | 將當前顯示的日誌保存到文件 |
| 🔄 系統重啟 | `Ctrl+Alt+R` | 重啟系統 | 完全重新啟動廣播系統（需確認） |

#### 日誌級別顏色
```
日誌顏色標識：
├── 🔵 INFO - 一般資訊（藍色）
├── 🟡 WARNING - 警告訊息（黃色）
├── 🔴 ERROR - 錯誤訊息（紅色）
└── 🟢 SUCCESS - 成功訊息（綠色）
```

---

## 🤖 Telegram 指令完整參考

### 📱 指令使用規則

#### 基本語法
```
格式：/指令名稱 [參數1] [參數2] ...
範例：/add_schedule 09:00 A
     /broadcast B
     /help
```

#### 指令別名系統
```
許多指令支援縮寫形式：
/list_groups = /lg
/scan_groups = /sg  
/add_schedule = /as
/broadcast = /bc
```

#### 參數格式說明
```
<必要參數> - 必須提供的參數
[可選參數] - 可選的參數
時間格式: HH:MM (如 09:30, 15:45)
活動代碼: A, B, C, D, E
群組ID: 負數，如 -1001234567890
```

### 🔧 系統管理指令

#### 基本系統資訊
```bash
/help
# 功能：顯示所有可用指令的說明
# 用法：/help
# 回應：指令列表和使用說明

/status 或 /s
# 功能：顯示系統當前運行狀態
# 用法：/status
# 回應：連接狀態、排程狀態、群組數量等

/config
# 功能：顯示當前系統配置資訊
# 用法：/config  
# 回應：廣播設定、排程配置、目標群組等

/logs [數量]
# 功能：顯示最近的日誌記錄
# 用法：/logs 10    (顯示最近10條)
#      /logs       (顯示最近5條)
# 回應：格式化的日誌條目
```

#### 系統控制指令
```bash
/restart
# 功能：重新啟動機器人系統
# 用法：/restart
# 權限：僅限超級管理員
# 警告：會中斷當前所有操作

/reload
# 功能：重新載入配置文件
# 用法：/reload
# 效果：更新配置但不重啟系統

/ping
# 功能：測試機器人響應速度
# 用法：/ping
# 回應：延遲時間和系統時間
```

### 📢 廣播操作指令

#### 立即廣播
```bash
/broadcast <活動> 或 /bc <活動>
# 功能：執行指定活動的廣播
# 用法：/broadcast A
#      /bc B
# 參數：A, B, C, D, E (活動代碼)
# 回應：廣播執行結果和統計

/q <活動>
# 功能：快速廣播（跳過確認）
# 用法：/q A
# 特點：無需確認，立即執行
# 適用：緊急廣播場景
```

#### 廣播預覽
```bash
/preview <活動>
# 功能：預覽活動內容而不發送
# 用法：/preview A
# 回應：活動的文字、媒體文件列表

/test <活動>
# 功能：測試廣播功能
# 用法：/test B
# 效果：模擬廣播流程但不實際發送
```

#### 廣播歷史
```bash
/broadcast_history [數量] 或 /bh [數量]
# 功能：查看廣播歷史記錄
# 用法：/bh 10     (最近10次)
#      /bh        (最近5次)
# 回應：廣播時間、活動、成功率等

/history [數量]
# 功能：查看廣播歷史（別名）
# 用法：同 /broadcast_history

/stats
# 功能：顯示廣播統計資訊
# 用法：/stats
# 回應：總廣播次數、成功率、活動統計
```

### 👥 群組管理指令

#### 群組資訊查詢
```bash
/list_groups 或 /lg
# 功能：列出所有廣播目標群組
# 用法：/lg
# 回應：群組ID、名稱、成員數、狀態

/scan_groups 或 /sg  
# 功能：掃描機器人已加入的所有群組
# 用法：/sg
# 回應：所有群組列表及其廣播設定狀態

/my_groups 或 /mg
# 功能：顯示機器人所在的群組
# 用法：/mg
# 回應：包含群組類型和權限資訊

/group_info <群組ID>
# 功能：顯示指定群組的詳細資訊
# 用法：/group_info -1001234567890
# 回應：群組名稱、成員數、權限、設定狀態
```

#### 添加群組
```bash
/add_groups
# 功能：互動式群組添加
# 用法：/add_groups
# 流程：1. 顯示可用群組列表
#      2. 選擇要添加的群組
#      3. 確認添加

/add_groups <群組ID>
# 功能：直接添加指定群組
# 用法：/add_groups -1001234567890
# 效果：立即將群組添加為廣播目標

/add_target 或 /at
# 功能：添加廣播目標群組（別名）
# 用法：同 /add_groups

/add_control <群組ID>
# 功能：設定控制群組
# 用法：/add_control -1001234567890
# 注意：只能設定一個控制群組
```

#### 移除群組
```bash
/remove_groups
# 功能：互動式群組移除
# 用法：/remove_groups  
# 流程：1. 顯示當前廣播群組
#      2. 選擇要移除的群組
#      3. 確認移除

/remove_groups <群組ID>
# 功能：直接移除指定群組
# 用法：/remove_groups -1001234567890
# 效果：從廣播目標中移除群組

/remove_target 或 /rt
# 功能：移除廣播目標群組（別名）
# 用法：同 /remove_groups

/clear_groups
# 功能：清空所有廣播目標群組
# 用法：/clear_groups
# 警告：需要確認，會清空所有設定
```

### ⏰ 排程管理指令

#### 添加排程
```bash
/add_schedule <時間> <活動> 或 /as <時間> <活動>
# 功能：添加新的廣播排程
# 用法：/as 09:00 A
#      /add_schedule 15:30 B
# 參數：時間格式 HH:MM，活動代碼 A-E
# 回應：排程添加成功確認

/batch_schedule
# 功能：批量添加多個排程
# 用法：/batch_schedule
# 流程：互動式輸入多個時間點和活動
```

#### 查看排程
```bash
/list_schedules 或 /ls
# 功能：列出所有已設定的排程
# 用法：/ls
# 回應：排程編號、時間、活動、狀態

/next_schedule 或 /ns
# 功能：顯示下一個要執行的排程
# 用法：/ns
# 回應：下次執行時間和活動

/today_schedules
# 功能：顯示今天的所有排程
# 用法：/today_schedules
# 回應：今日排程列表和執行狀態
```

#### 移除排程
```bash
/remove_schedule
# 功能：互動式移除排程
# 用法：/remove_schedule
# 流程：1. 顯示現有排程列表
#      2. 選擇要移除的排程
#      3. 確認移除

/remove_schedule <編號>
# 功能：直接移除指定編號的排程
# 用法：/remove_schedule 3
# 效果：移除排程列表中編號為3的項目

/clear_schedules
# 功能：清空所有排程
# 用法：/clear_schedules
# 警告：會移除所有排程設定
```

#### 排程控制
```bash
/enable
# 功能：啟用自動排程功能
# 用法：/enable
# 效果：開始執行已設定的排程

/disable  
# 功能：停用自動排程功能
# 用法：/disable
# 效果：暫停所有自動排程

/schedule_status
# 功能：查看排程系統狀態
# 用法：/schedule_status
# 回應：啟用狀態、下次執行、今日執行次數
```

### 👤 管理員管理指令

#### 添加管理員
```bash
/add_admin <用戶ID>
# 功能：添加新的管理員用戶
# 用法：/add_admin 123456789
# 權限：僅限超級管理員
# 效果：用戶獲得機器人操作權限

/add_admin @username
# 功能：透過用戶名添加管理員
# 用法：/add_admin @john_doe
# 注意：用戶名必須是公開的
```

#### 管理員查詢
```bash
/list_admins
# 功能：列出所有管理員用戶
# 用法：/list_admins
# 回應：管理員ID、用戶名、添加時間

/admin_info <用戶ID>
# 功能：顯示指定管理員的詳細資訊
# 用法：/admin_info 123456789
# 回應：用戶資訊和權限狀態

/who_am_i
# 功能：顯示當前用戶的身份資訊
# 用法：/who_am_i
# 回應：用戶ID、權限級別、加入時間
```

#### 移除管理員
```bash
/remove_admin <用戶ID>
# 功能：移除管理員權限
# 用法：/remove_admin 123456789
# 權限：僅限超級管理員
# 效果：撤銷用戶的操作權限

/sync_admins
# 功能：同步管理員列表
# 用法：/sync_admins
# 效果：更新管理員配置文件
```

### ⚡ 快速指令

#### 超快速指令
```bash
/s
# 功能：快速狀態檢查
# 等同：/status
# 用法：/s

/c  
# 功能：快速活動列表
# 等同：/list_campaigns
# 用法：/c

/q <活動>
# 功能：快速廣播
# 等同：/broadcast <活動> (無確認)
# 用法：/q A

/l
# 功能：快速群組列表
# 等同：/list_groups
# 用法：/l
```

#### 組合指令
```bash
/qa
# 功能：快速廣播活動A
# 等同：/q A

/qb
# 功能：快速廣播活動B  
# 等同：/q B

# 類推 /qc, /qd, /qe
```

### 🔍 查詢指令

#### 內容查詢
```bash
/list_campaigns 或 /lc
# 功能：列出所有可用的廣播活動
# 用法：/lc
# 回應：活動代碼、內容摘要、文件數量

/campaign_info <活動>
# 功能：顯示指定活動的詳細資訊
# 用法：/campaign_info A
# 回應：文字內容、媒體文件列表、文件大小

/validate <活動>
# 功能：驗證活動內容的完整性
# 用法：/validate B
# 回應：內容檢查結果、錯誤和警告
```

#### 系統查詢
```bash
/version
# 功能：顯示系統版本資訊
# 用法：/version
# 回應：版本號、構建時間、功能特性

/uptime
# 功能：顯示系統運行時間
# 用法：/uptime
# 回應：啟動時間、運行時長、重啟次數

/memory
# 功能：顯示記憶體使用情況
# 用法：/memory
# 回應：記憶體使用量、緩存大小
```

---

## 🎯 指令使用技巧

### 💡 高效操作技巧

#### 1. 批量操作
```bash
# 連續添加多個排程
/as 09:00 A
/as 12:00 B  
/as 18:00 C

# 快速廣播多個活動
/q A
/q B
/q C
```

#### 2. 指令鏈接
```bash
# 系統檢查流程
/s                    # 檢查狀態
/lg                   # 檢查群組
/ls                   # 檢查排程
/c                    # 檢查活動
```

#### 3. 緊急操作
```bash
# 緊急廣播流程
/disable              # 停用自動排程
/q A                  # 立即廣播
/enable               # 重新啟用排程
```

### 🔧 故障排除指令

#### 診斷指令
```bash
/diagnose
# 功能：執行系統診斷
# 檢查：連接狀態、配置完整性、權限設定

/test_connection
# 功能：測試 Telegram 連接
# 回應：連接延遲、API 狀態

/check_permissions
# 功能：檢查群組權限
# 回應：每個群組的發送權限狀態
```

#### 修復指令
```bash
/fix_config
# 功能：修復配置文件錯誤
# 效果：恢復預設配置、修正格式錯誤

/reconnect
# 功能：重新建立 Telegram 連接
# 用法：連接異常時使用

/clear_cache
# 功能：清除系統緩存
# 效果：清理臨時文件、重置狀態
```

### 📊 監控指令

#### 即時監控
```bash
/monitor
# 功能：開啟即時監控模式
# 效果：定期回報系統狀態

/watch <活動>
# 功能：監控特定活動的廣播
# 用法：/watch A
# 效果：該活動廣播時發送通知
```

#### 報告生成
```bash
/daily_report
# 功能：生成今日廣播報告
# 內容：廣播次數、成功率、錯誤統計

/weekly_report  
# 功能：生成週報告
# 內容：週度統計、趨勢分析

/export_logs
# 功能：導出日誌文件
# 格式：CSV 或 JSON 格式
```

---

## 🚨 錯誤處理

### 常見錯誤訊息

#### 權限錯誤
```
錯誤：「權限不足，僅限管理員使用」
解決：確認用戶已添加為管理員

錯誤：「無法發送到群組，權限不足」  
解決：檢查機器人在群組中的權限設定
```

#### 參數錯誤
```
錯誤：「無效的時間格式」
解決：使用 HH:MM 格式，如 09:30

錯誤：「活動不存在」
解決：確認活動代碼正確（A-E）且內容文件存在
```

#### 系統錯誤
```
錯誤：「連接已斷開」
解決：使用 /reconnect 重新連接

錯誤：「排程器未運行」
解決：使用 /enable 啟用排程功能
```

### 指令幫助

```bash
/help <指令名稱>
# 功能：獲取特定指令的詳細幫助
# 用法：/help add_schedule
# 回應：指令語法、參數說明、使用範例

/examples
# 功能：顯示常用指令範例
# 回應：分類整理的指令使用範例
```

---

這份指令參考涵蓋了系統的所有操作方式，無論是 GUI 按鍵操作還是 Telegram 文字指令，都能幫助用戶快速找到所需的操作方法。